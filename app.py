from flask import Flask, render_template, request, jsonify

app = Flask(__name__)

# 腸活タイプの定義
INTESTINE_TYPES = {
    "ストレス応答傾向型": {
        "description": "緊張や不安を感じやすく、ストレスが胃腸に影響しやすいタイプ。心と腸は密接に繋がっており、リラックス習慣や腸にやさしい食材がサポートになります。",
        "symptoms": ["お腹の張り", "食欲不振", "胃の不快感", "緊張感", "疲れやすさ"],
        "knowledge": "近年の研究では、ストレスを感じやすい人ほど腸内環境が揺らぎやすく、善玉菌のバランスに影響が出来傾向があると報告されています。",
        "food_connection": "ヤーコンや菊芋などの食材は、腸内の善玉菌の栄養分となる成分を含み、腸のリズムを穏やかに保つサポートになります。",
        "advice": [
            "朝の15分瞑想で心を落ち着かせる",
            "深呼吸を1日3回、5分ずつ行う",
            "完璧を求めすぎない、80%でOKにする",
            "カフェインを控えめにする",
            "就寝前のホットミルクでリラックス",
            "週末は完全に仕事を忘れる時間を作る",
        ],
        "foods": [
            "カモミールティー",
            "ラベンダーティー",
            "バナナ",
            "アボカド",
            "ナッツ",
            "ダークチョコレート",
            "ヤーコン",
            "菊芋",
        ],
    },
    "神経刺激過敏傾向型": {
        "description": "脳や目が刺激を受けやすく、睡眠や集中力に影響が出やすい傾向があります。自律神経と腸の働きは連動しており、過剰な情報刺激が腸内リズムにも影響することがあります。",
        "symptoms": ["目の疲れ", "頭痛", "集中力低下", "イライラ", "疲労感", "肩こり"],
        "knowledge": "ブルーライトや情報過多がメラトニン分泌や自律神経に影響を与え、腸内環境の揺らぎにつながる可能性があると報告されています。",
        "food_connection": "ブルーベリーや緑茶などの食材は、抗酸化作用を持ち、神経系と腸内環境のバランス維持に役立つ成分を含みます。",
        "advice": [
            "就寝2時間前からスマホ使用を控える",
            "ブルーライトカットメガネを着用",
            "朝日を10分間浴びる",
            "デジタルデトックス日を週1回設ける",
            "寝る前の読書でリラックス",
            "1時間ごとに5分の休憩を取る",
        ],
        "foods": ["ブルーベリー", "ほうれん草", "サーモン", "卵", "アーモンド", "緑茶", "ヤーコン", "チコリ"],
    },
    "代謝停滞傾向型": {
        "description": "運動不足や長時間の座位により、腸の蠕動運動や代謝活動が低下しやすい傾向があります。腸内の循環が滞ることで、老廃物の排出や栄養吸収に影響が出ることがあります。",
        "symptoms": ["便秘気味", "お腹の重さ", "むくみ", "疲れやすさ", "ガスが溜まりやすい"],
        "knowledge": "軽度の運動でも腸内細菌の多様性や短鎖脂肪酸の生成に好影響を与えることが示されています。",
        "food_connection": "ほうれん草やサーモンなどの食材は、腸内代謝を支える栄養素を含み、腸の活性化をサポートします。",
        "advice": [
            "30分座ったら必ず立ち上がって歩く",
            "通勤時に1駅分歩く",
            "エレベーターの代わりに階段を使う",
            "座りながらできる腹筋運動を1日3回",
            "ストレッチを朝晩5分ずつ",
            "週末は必ず外に出て運動する",
        ],
        "foods": ["玄米", "キムチ", "納豆", "海藻", "きのこ", "生姜", "にんにく", "ヤーコン", "ごぼう"],
    },
    "栄養バランス偏り傾向型": {
        "description": "食生活が偏りがちな方は、腸内細菌の構成が不安定になりやすく、消化や免疫に影響が出やすい傾向があります。特に食物繊維の不足が腸内環境に影響することがあります。",
        "symptoms": ["便通の乱れ", "肌荒れ", "疲れやすさ", "口臭", "お腹の張り"],
        "knowledge": "高脂肪・高糖質の食事は腸内の善玉菌を減らし、炎症性物質の生成を促す可能性があると報告されています。",
        "food_connection": "ヤーコンやチコリなどの食材は、腸内細菌の栄養源となる成分を含み、腸内バランスの維持に役立ちます。",
        "advice": [
            "朝食は必ず食べる（ヨーグルト+フルーツでもOK）",
            "夕食は就寝3時間前までに済ませる",
            "食物繊維を意識的に摂取",
            "発酵食品を毎食1品は食べる",
            "水分を1日2L以上摂取",
            "食事は30分以上かけてゆっくり食べる",
        ],
        "foods": [
            "キムチ",
            "ぬか漬け",
            "味噌",
            "納豆",
            "ヨーグルト",
            "野菜",
            "果物",
            "海藻",
            "ヤーコン",
            "菊芋",
            "チコリ",
        ],
    },
    "リズム不安定傾向型": {
        "description": "睡眠不足や生活リズムの乱れが続くと、腸内細菌の活動リズムにも影響が出やすく、腸内環境が不安定になりやすい傾向があります。",
        "symptoms": ["寝つきが悪い", "朝のだるさ", "便通の乱れ", "集中力低下", "気分の浮き沈み"],
        "knowledge": "腸内細菌は概日リズムに従って活動しており、睡眠障害が腸内フローラの構成に影響することが示唆されています。",
        "food_connection": "緑茶や卵などの食材は、腸内環境と体内時計の調整に関わる成分を含み、リズムの安定をサポートします。",
        "advice": [
            "毎日同じ時間に起床・就寝する",
            "7-8時間の十分な睡眠を取る",
            "就寝前のスマホ・PC使用を控える",
            "朝日を浴びる",
            "就寝前のカフェインを避ける",
            "リラックスできる就寝ルーティンを作る",
        ],
        "foods": [
            "バナナ",
            "牛乳",
            "ハーブティー",
            "ナッツ",
            "はちみつ",
            "サーモン",
            "卵",
            "ヤーコン",
            "菊芋",
        ],
    },
    "活性低下傾向型": {
        "description": "加齢や筋力低下により、腸の動きや腸内細菌の活性が弱まりやすく、消化や免疫の働きに影響が出やすい傾向があります。",
        "symptoms": ["便秘", "疲れやすさ", "筋力低下", "肌の乾燥", "お腹の張り"],
        "knowledge": "高齢者の腸内環境では、善玉菌の減少や短鎖脂肪酸の生成低下が見られ、生活習慣の見直しが重要とされています。",
        "food_connection": "アーモンドやヤーコンなどの食材は、腸内活性を支える栄養素を含み、腸の元気を保つサポートになります。",
        "advice": [
            "軽い筋力トレーニングを週3回行う",
            "ウォーキングを1日30分以上",
            "水分を十分に摂取（1日2L以上）",
            "食物繊維を意識的に摂る",
            "発酵食品で腸内環境を整える",
            "定期的な健康診断を受ける",
        ],
        "foods": [
            "ヨーグルト",
            "納豆",
            "味噌",
            "野菜",
            "果物",
            "海藻",
            "きのこ",
            "玄米",
            "ヤーコン",
            "菊芋",
            "ごぼう",
        ],
    },
    "腸内バランス崩れ傾向型": {
        "description": "複数の生活習慣要因が重なることで、腸内細菌のバランスが乱れやすく、腸内環境が不安定になりやすい傾向があります。",
        "symptoms": ["便通の乱れ", "疲労感", "肌荒れ", "気分の不安定", "お腹の違和感"],
        "knowledge": "腸内フローラのバランスは、食事・睡眠・ストレス・運動などの複合的な要因によって変化することが報告されています。",
        "food_connection": "チコリやヤーコンなどの食材は、腸内細菌の多様性維持に役立つ成分を含み、腸内バランスの安定をサポートします。",
        "advice": [
            "食物繊維を1日30g以上摂取",
            "発酵食品を毎食食べる",
            "砂糖と人工甘味料を控える",
            "抗生物質使用後は特に注意",
            "腸内環境を整える食材を積極的に摂る",
        ],
        "foods": [
            "キムチ",
            "ぬか漬け",
            "味噌",
            "納豆",
            "ヨーグルト",
            "野菜",
            "果物",
            "海藻",
            "きのこ",
            "ヤーコン",
            "菊芋",
            "チコリ",
            "ごぼう",
            "玉ねぎ",
        ],
    },
}
# チェック質問
QUESTIONS = [
    {
        "id": 1,
        "question": "最近のストレスレベルは？",
        "options": [
            {
                "text": "非常に高い（常に緊張している）",
                "scores": {
                    "ストレス応答傾向型": 4,
                    "神経刺激過敏傾向型": 2,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "やや高い（時々緊張する）",
                "scores": {
                    "ストレス応答傾向型": 3,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "普通（たまに緊張する）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "低い（ほとんど緊張しない）",
                "scores": {
                    "ストレス応答傾向型": 0,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
        ],
    },
    {
        "id": 2,
        "question": "1日のデジタル機器使用時間は？",
        "options": [
            {
                "text": "8時間以上（仕事+プライベート）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 4,
                    "代謝停滞傾向型": 3,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "6-8時間（仕事中心）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 3,
                    "代謝停滞傾向型": 2,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "4-6時間（適度）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "4時間未満（少ない）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 0,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
        ],
    },
    {
        "id": 3,
        "question": "1日の運動時間は？",
        "options": [
            {
                "text": "30分以上（積極的に運動）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 0,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "15-30分（軽い運動）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "15分未満（ほとんど運動しない）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 3,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 1,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "全く運動しない",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 4,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 2,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
        ],
    },
    {
        "id": 4,
        "question": "朝食の習慣は？",
        "options": [
            {
                "text": "毎日しっかり食べる",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 0,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 0,
                },
            },
            {
                "text": "軽く食べる（ヨーグルトなど）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "時々食べる",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 2,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 2,
                },
            },
            {
                "text": "ほとんど食べない",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 4,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 3,
                },
            },
        ],
    },
    {
        "id": 5,
        "question": "発酵食品の摂取頻度は？",
        "options": [
            {
                "text": "毎食食べる",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 0,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 0,
                },
            },
            {
                "text": "1日2回",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "1日1回",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 2,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 2,
                },
            },
            {
                "text": "ほとんど食べない",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 3,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 4,
                },
            },
        ],
    },
    {
        "id": 6,
        "question": "お腹の調子は？",
        "options": [
            {
                "text": "とても良い",
                "scores": {
                    "ストレス応答傾向型": 0,
                    "神経刺激過敏傾向型": 0,
                    "代謝停滞傾向型": 0,
                    "栄養バランス偏り傾向型": 0,
                    "リズム不安定傾向型": 0,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 0,
                },
            },
            {
                "text": "良い",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 1,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "普通",
                "scores": {
                    "ストレス応答傾向型": 2,
                    "神経刺激過敏傾向型": 2,
                    "代謝停滞傾向型": 2,
                    "栄養バランス偏り傾向型": 2,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 2,
                    "腸内バランス崩れ傾向型": 2,
                },
            },
            {
                "text": "悪い",
                "scores": {
                    "ストレス応答傾向型": 3,
                    "神経刺激過敏傾向型": 3,
                    "代謝停滞傾向型": 3,
                    "栄養バランス偏り傾向型": 3,
                    "リズム不安定傾向型": 3,
                    "活性低下傾向型": 3,
                    "腸内バランス崩れ傾向型": 3,
                },
            },
        ],
    },
    {
        "id": 7,
        "question": "平均睡眠時間は？",
        "options": [
            {
                "text": "8時間以上（十分な睡眠）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 0,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "7-8時間（適度な睡眠）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス崩れ傾向型": 1,
                    "リズム不安定傾向型": 0,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "6-7時間（やや不足）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "6時間未満（睡眠不足）",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 4,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
        ],
    },
    {
        "id": 8,
        "question": "年齢は？",
        "options": [
            {
                "text": "20代以下",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 2,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 2,
                    "リズム不安定傾向型": 2,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "30-40代",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 2,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 0,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "50-60代",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 1,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 2,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
            {
                "text": "70代以上",
                "scores": {
                    "ストレス応答傾向型": 1,
                    "神経刺激過敏傾向型": 0,
                    "代謝停滞傾向型": 1,
                    "栄養バランス偏り傾向型": 1,
                    "リズム不安定傾向型": 1,
                    "活性低下傾向型": 4,
                    "腸内バランス崩れ傾向型": 1,
                },
            },
        ],
    },
]


@app.route("/")
def index():
    return render_template("index.html")


#@app.route("/battle")
#def battle():
    #battle_type = request.args.get("type", "A")  # デフォルトはタイプA
    #if battle_type == "タイプA":
        #enemy = "悪玉菌A"
        #enemy_weak = "酸性環境"
        #strategy = "ビーム"
        #outcome = "勝利！"
    #elif battle_type == "タイプB":
        #enemy = "悪玉菌B"
        #enemy_weak = "水分"
        #strategy = "ヨーグルトパンチ"
        #outcome = "勝利！"
    #else:
        #enemy = "ウイルス菌"
        #enemy_weak = "免疫強化"
        #strategy = "ファイトキック"
        #outcome = "勝利！"

    #return render_template(
        #"batlle.html",
        #result_type=battle_type,
        #enemy=enemy,
        #enemy_weak=enemy_weak,
        #strategy=strategy,
        #attack=strategy,
        #outcome=outcome,
    #)


@app.route("/submit", methods=["POST"])
def submit():
    answers = request.json
    # スコア計算処理
    result = calculate_result(answers)
    return jsonify(result)


@app.route("/questions")
def questions():
    return render_template("questions.html", questions=QUESTIONS)


@app.route("/check", methods=["POST"])
def check():
    data = request.get_json()
    answers = data.get("answers", [])

    # スコア計算
    scores = {type_name: 0 for type_name in INTESTINE_TYPES.keys()}

    for answer in answers:
        question_id = answer["questionId"]
        option_index = answer["optionIndex"]

        if question_id <= len(QUESTIONS) and option_index < len(QUESTIONS[question_id - 1]["options"]):
            option = QUESTIONS[question_id - 1]["options"][option_index]
            for type_name, score in option["scores"].items():
                scores[type_name] += score

    # 最もスコアが高いタイプを特定
    max_score = max(scores.values())
    result_type = [k for k, v in scores.items() if v == max_score][0]

    return jsonify({"result_type": result_type, "type_info": INTESTINE_TYPES[result_type], "scores": scores})


@app.route("/result")
def result_page():
    user_type = request.args.get("result_type")
    data = INTESTINE_TYPES.get(user_type)
    if not data:
        return "診断結果が見つかりません", 404  
    return render_template("result.html", type_name=user_type, data=data)


def calculate_result(answers):
    total_scores = {k: 0 for k in INTESTINE_TYPES.keys()}
    for qid, selected_option_index in answers.items():
        option = QUESTIONS[qid - 1]["options"][selected_option_index]
        for k, v in option["scores"].items():
            if k in total_scores:
                total_scores[k] += v
            else:
                print(f"Warning: 未知の腸活タイプ {k}")
    # スコアが最大のタイプを返す
    top_type = max(total_scores, key=total_scores.get)
    return {
        "top_type": top_type,
        "scores": total_scores,
        "description": INTESTINE_TYPES[top_type]["description"],
    }


if __name__ == "__main__":
    app.run(debug=True, host="0.0.0.0", port=8080)
